<Widgets>:
    FloatLayout:
        Button:
            pos_hint: {"x":0.1, "y":5.4}
            size_hint: 2.0, 0.5
            text: "Upload Image"
            on_release: root.uploadImage()
        Button:
            pos_hint: {"x":0.1, "y":4.9}
            size_hint: 2.0, 0.5
            text: "Enter Metadata"
            on_release: root.requestMetadata()
        Button:
            pos_hint: {"x":0.1, "y":4.4}
            size_hint: 2.0, 0.5
            text: "Process Image"
            on_release: root.processImage()
        Button:
            pos_hint: {"x":0.1, "y":3.9}
            size_hint: 2.0, 0.5
            text: "Generate Lensing"
            on_release: root.GravLens_Generator()
        Label:
            id: pre_processed_image_label
            text: "Original Image:"
            font_size: 36
            size_hint: 0.6, 0.2
            pos_hint: {"x":3.4, "y":4.5}
            opacity: 0
        Image: 
            id: pre_processed_image
            source: ""
            # keep_ratio: False
            allow_stretch: True
            size_hint: 2.5, 2.5
            pos_hint: {"x":5.4, "y":3.4}
            opacity: 0
        Label:
            id: post_processed_image_label
            text: "Modified Image:"
            font_size: 36
            size_hint: 0.6, 0.2
            pos_hint: {"x":3.4, "y":1.5}
            opacity: 0
        Image: 
            id: post_processed_image
            source: ""
            # keep_ratio: False
            allow_stretch: True
            size_hint: 2.5, 2.5
            pos_hint: {"x":5.4, "y":0.4}
            opacity: 0

<ImageProcessingStartPopup>:
    Label:
        text: "Process Started."
        size_hint: 0.6, 0.2
        pos_hint: {"x":0.2, "top":1}

    Button:
        id: P_start_ok
        text: "OK"
        size_hint: 0.8, 0.2
        pos_hint: {"x":0.1, "y":0.1}
        on_release: root.end()

<ImageProcessingEndPopup>:
    Label:
        text: "Process Finished."
        size_hint: 0.6, 0.2
        pos_hint: {"x":0.2, "top":1}

    Button:
        id: P_end_ok
        text: "OK"
        size_hint: 0.8, 0.2
        pos_hint: {"x":0.1, "y":0.1}
        on_release: root.end()

<MetadataEntryPopup>:
    data1: Metadata1.text
    data2: Metadata2.text
    data3: Metadata3.text
    data4: Metadata4.text
    data5: Metadata5.text

    Label:
        text: "Enter Metadata"
        size_hint: 0.6, 0.2
        pos_hint: {"x":0.2, "top":1}

    Label:
        text: "Name of Star:"
        size_hint: 0.4, 0.05
        pos_hint: {"x":0.1, "top":0.8}

    TextInput:
        pos_hint: {"x":0.5, "top":0.8}
        size_hint: 0.4, 0.07
        id: Metadata1
        multiline: False
        font_size: 12

    Label:
        text: "Name of System:"
        size_hint: 0.4, 0.05
        pos_hint: {"x":0.1, "top":0.7}

    TextInput:
        pos_hint: {"x":0.5, "top":0.7}
        size_hint: 0.4, 0.07
        id: Metadata2
        multiline: False
        font_size: 12
    
    Label:
        text: "Name of Star Cluster:"
        size_hint: 0.4, 0.05
        pos_hint: {"x":0.1, "top":0.6}

    TextInput:
        pos_hint: {"x":0.5, "top":0.6}
        size_hint: 0.4, 0.07
        id: Metadata3
        multiline: False
        font_size: 12

    Label:
        text: "Name of Galaxy:"
        size_hint: 0.4, 0.05
        pos_hint: {"x":0.1, "top":0.5}

    TextInput:
        pos_hint: {"x":0.5, "top":0.5}
        size_hint: 0.4, 0.07
        id: Metadata4
        multiline: False
        font_size: 12

    Label:
        text: "Name of Galaxy Cluster:"
        size_hint: 0.4, 0.05
        pos_hint: {"x":0.1, "top":0.4}

    TextInput:
        pos_hint: {"x":0.5, "top":0.4}
        size_hint: 0.4, 0.07
        id: Metadata5
        multiline: False
        font_size: 12

    Button:
        text: "Save"
        size_hint: 0.8, 0.2
        pos_hint: {"x":0.1, "y":0.1}
        on_release: root.store_metadata()
        on_release: root.end()

<GravLens_GeneratorPopup>:
    Image: 
        id: GravLens_Image
        source: ""
        # keep_ratio: False
        allow_stretch: False
        size_hint: 0.8, 0.8
        pos_hint: {"x":0.1, "y":0.13}
        opacity: 1

    Label:
        text: "Click to apply lensing"
        size_hint: 0.6, 0.2
        pos_hint: {"x":0.2, "top":1.05}

    Label: 
        text: "Pixel Coord"
        pos_hint: {"x":0.62, "y":0.07}
        size_hint: 0.4, 0.07
        font_size: 12

    TextInput:
        id: fetch_pixelcoord
        pos_hint: {"x":0.77, "y":0.02}
        size_hint: 0.1, 0.05
        id: PixelCoord1
        multiline: False
        font_size: 8

    Button:
        text: "Apply"
        size_hint: 0.4, 0.1
        pos_hint: {"x":0.3, "y":0.01}
        on_release: root.end()
